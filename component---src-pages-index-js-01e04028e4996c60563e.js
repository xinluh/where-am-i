(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{RXBc:function(e,t,n){"use strict";n.r(t);n("dRSK");var a=n("q1tI"),r=n.n(a),o=n("Wbzz"),l=n("Bl7J"),i=n("vrFN"),s=n("p3AD");n("91GP"),n("rGqo"),n("yt8O"),n("Btvt");n.d(t,"pageQuery",(function(){return c}));t.default=function(e){var t=e.data,n=e.location,c=t.site.siteMetadata.title,u=t.allMarkdownRemark.edges,d=Object(a.useState)([]),f=d[0],m=d[1];Object(a.useEffect)((function(){fetch("https://sheets.googleapis.com/v4/spreadsheets/115_n7jB4DH062_OW9zcOHeezJi-MLRqUfeR8V1dpzhQ/values/itinerary?key=AIzaSyApgm2nFzwLrOyISptqXF9RbiHyq1Josbk").then((function(e){return e.json()})).then((function(e){if(!e.values)throw"Failed to load google sheet";var t=e.values[0],n=e.values.slice(2).filter((function(e){return e[0]})),a=new Date;return n.map((function(e){var n=Object.fromEntries(e.map((function(e,n){return[t[n],e]}))),r=new Date(n.date+"/2020");return Object.assign({},n,{dateFormatted:r,isToday:n.date===a.getMonth()+1+"/"+a.getDate(),isFuture:r>a,isPast:r<a})}))})).then((function(e){m(e)}))}),[]);var g=new Date;console.log(g.getMonth()+"/"+g.getDate());var h=f.find((function(e){return e.isToday})),p=f.find((function(e){return e.isFuture}));return console.log(f),r.a.createElement(l.a,{location:n,title:c},r.a.createElement(i.a,{title:"All posts"}),h&&r.a.createElement("div",null,"Today (",h.date,"), I'm spending the night at"," ",h.nightAt,"."),p&&r.a.createElement("div",null,"Tomorrow (",p.date,"), I'm planning to spend the night at ",p.nightAt,"."),u.map((function(e){var t=e.node,n=t.frontmatter.title||t.fields.slug;return r.a.createElement("article",{key:t.fields.slug},r.a.createElement("header",null,r.a.createElement("h3",{style:{marginBottom:Object(s.a)(.25)}},r.a.createElement(o.Link,{style:{boxShadow:"none"},to:t.fields.slug},n)),r.a.createElement("small",null,t.frontmatter.date)),r.a.createElement("section",null,r.a.createElement("p",{dangerouslySetInnerHTML:{__html:t.frontmatter.description||t.excerpt}})))})))};var c="2785444898"}}]);
//# sourceMappingURL=component---src-pages-index-js-01e04028e4996c60563e.js.map